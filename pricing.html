<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pricing</title>
    <style>
        body { margin: 0; font-family: sans-serif; background: #020617; color: #f8fafc; }
        .container { max-width: 1000px; margin: 0 auto; padding: 50px 20px; text-align: center; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; margin-top: 50px; }
        
        .card { background: rgba(30,41,59,0.5); padding: 40px; border-radius: 24px; border: 1px solid #334155; text-align: left; }
        .card.featured { background: rgba(15, 23, 42, 0.8); border: 1px solid #22d3ee; transform: scale(1.05); box-shadow: 0 0 30px rgba(34, 211, 238, 0.2); position: relative; }
        .badge { position: absolute; top: -12px; left: 50%; transform: translateX(-50%); background: linear-gradient(to right, #22d3ee, #3b82f6); padding: 5px 15px; border-radius: 20px; font-size: 0.8rem; font-weight: bold; }
        
        .price { font-size: 3rem; font-weight: 900; margin: 20px 0; }
        .price span { font-size: 1rem; font-weight: normal; color: #94a3b8; }
        
        ul { list-style: none; padding: 0; margin: 30px 0; }
        li { margin-bottom: 15px; color: #cbd5e1; }
        
        .btn { display: block; width: 100%; padding: 15px; background: #334155; color: white; text-align: center; border-radius: 12px; text-decoration: none; font-weight: bold; transition: 0.3s; cursor: pointer; border: none; font-size: 1rem; }
        .btn-feat { background: linear-gradient(to right, #22d3ee, #3b82f6); }
        .btn:hover { transform: scale(1.02); }
    </style>
</head>
<body>
    <div style="padding: 20px; text-align: center; border-bottom: 1px solid #1e293b;">
        <a href="index.html" style="color: white; text-decoration: none; font-weight: bold;">← Back Home</a>
    </div>
    
    <div class="container">
        <h1 style="font-size: 3rem; margin-bottom: 10px;">Pricing Plans</h1>
        <p style="color: #94a3b8; font-size: 1.2rem;">Simple pricing for every creator.</p>
        
        <div class="grid">
            <!-- Free -->
            <div class="card">
                <h3>Free</h3>
                <div class="price">$0<span>/mo</span></div>
                <ul>
                    <li>✅ 10 Generations/mo</li>
                    <li>✅ Basic Library</li>
                    <li style="color: #ef4444;">✕ 3-Day Storage Limit</li>
                </ul>
                <a href="signup.html" class="btn">Current Plan</a>
            </div>
            
            <!-- Pro -->
            <div class="card featured">
                <div class="badge">MOST POPULAR</div>
                <h3>Pro</h3>
                <div class="price">$9.99<span>/mo</span></div>
                <ul>
                    <li>✅ <strong>500 Generations/mo</strong></li>
                    <li>✅ Full 100k+ Library</li>
                    <li>✅ Permanent Storage</li>
                    <li>✅ Commercial License</li>
                </ul>
                <button onclick="pay('pro')" class="btn btn-feat">Upgrade to Pro</button>
            </div>
            
            <!-- Studio -->
            <div class="card">
                <h3>Studio</h3>
                <div class="price">$29.99<span>/mo</span></div>
                <ul>
                    <li>✅ Everything in Pro</li>
                    <li>✅ <strong>Unlimited Generations</strong></li>
                    <li>✅ Priority Support</li>
                </ul>
                <button onclick="pay('studio')" class="btn">Upgrade to Studio</button>
            </div>
        </div>
    </div>
    
    <script>
        const API_BASE_URL = 'https://postumbilical-amiee-mystifiedly.ngrok-free.dev/api/v1';
        async function pay(type) {
            const token = localStorage.getItem('access_token');
            if(!token) { alert("Login first"); window.location.href='login.html'; return; }
            try {
                const res = await fetch(`${API_BASE_URL}/payment/checkout?plan_type=${type}`, { method:'POST', headers:{'Authorization':`Bearer ${token}`} });
                const d = await res.json();
                if(d.approval_url) window.location.href = d.approval_url;
            } catch(e) { alert("Error"); }
        }
    </script>
</body>
</html>